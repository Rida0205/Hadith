<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEENWAY – Hadiths | الأحاديث النبوية</title>
    
    <!-- الخطوط -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Tajawal:wght@300;400;500;700&family=El+Messiri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* === CSS Reset وتحسينات عامة === */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary-color: #2c786c; /* أخضر داكن إسلامي */
            --secondary-color: #004445; /* أخضر أعمق */
            --accent-color: #f8b500; /* ذهبي */
            --light-color: #f8f9fa;
            --dark-color: #2c3e50;
            --gray-color: #6c757d;
            --light-gray: #f1f3f5;
            --border-radius: 10px;
            --box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
            --hero-gradient: linear-gradient(135deg, #2c786c 0%, #004445 100%);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Cairo', 'Tajawal', sans-serif;
            font-size: 18px;
            line-height: 1.8;
            color: var(--dark-color);
            background-color: #fff;
            direction: rtl;
            text-align: right;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        a { text-decoration: none; color: var(--primary-color); transition: var(--transition); }
        a:hover { color: var(--secondary-color); }
        ul { list-style: none; }

        h1, h2, h3, h4 {
            font-family: 'Tajawal', sans-serif;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 1rem;
            color: var(--dark-color);
        }

        p { margin-bottom: 1.5rem; line-height: 1.8; }

        .section { padding: 80px 0; }
        .section-header { text-align: center; margin-bottom: 50px; }

        .section-title {
            font-size: 2.5rem;
            position: relative;
            display: inline-block;
            margin-bottom: 1.5rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            bottom: -15px;
            right: 50%;
            transform: translateX(50%);
            border-radius: 5px;
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: var(--gray-color);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .highlight { color: var(--primary-color); font-weight: 700; }

        .btn {
            display: inline-block;
            padding: 14px 35px;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-align: center;
        }

        .btn-primary {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .btn-primary:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        /* === الهيدر === */
        .main-header {
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 30px rgba(0, 0, 0, 0.08);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            padding: 15px 0;
            backdrop-filter: blur(10px);
            transform: translateY(0);
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .main-header.scrolled {
            background-color: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 30px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            flex-direction: column;
        }

        .logo h1 {
            font-size: 2rem;
            margin-bottom: 5px;
            color: var(--dark-color);
        }

        .logo-highlight {
            color: var(--primary-color);
            position: relative;
        }

        .logo-highlight::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), transparent);
            bottom: -2px;
            right: 0;
        }

        .tagline {
            font-size: 0.9rem;
            color: var(--gray-color);
            margin-bottom: 0;
            font-style: italic;
        }

        /* مسافة للهيدر الثابت */
        .header-spacer { height: 70px; }

        /* === البانر الرئيسي === */
        .hero {
            background: var(--hero-gradient);
            color: white;
            padding: 100px 0 80px; 
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-family: 'El Messiri', 'Tajawal', sans-serif;
            font-size: 2.5rem;
            color: white;
            margin-bottom: 2rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            font-weight: 600;
            line-height: 1.4;
            padding: 0 20px;
        }

        /* === قسم الحديث المختار (للتصميم العام) === */
        .featured-hadith {
            background: linear-gradient(135deg, rgba(44, 120, 108, 0.1) 0%, rgba(0, 68, 69, 0.1) 100%);
            padding: 40px 0 30px;
        }

        .featured-hadith-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 40px 30px;
            box-shadow: var(--box-shadow);
            text-align: center;
            position: relative;
            max-width: 900px;
            margin: 0 auto 30px;
        }

        .featured-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 25px;
            opacity: 0.8;
        }

        .featured-hadith-text {
            font-size: 1.6rem;
            line-height: 2;
            color: var(--dark-color);
            margin-bottom: 25px;
            font-family: 'El Messiri', 'Tajawal', serif;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .featured-hadith-narrator {
            color: var(--gray-color);
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-style: italic;
        }

        /* === الأزرار الجديدة الصغيرة === */
        .hero-actions {
            margin-top: 40px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            z-index: 2;
            position: relative;
        }

        .mini-nav-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.95rem;
            font-family: 'Cairo', sans-serif;
            cursor: pointer;
            transition: var(--transition);
        }

        .mini-nav-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            border-color: white;
        }

        .mini-nav-btn i { font-size: 1rem; }

        /* === إخفاء/إظهار الأقسام === */
        .content-section { display: none; animation: fadeIn 0.5s ease; }
        .content-section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* === الفوتر === */
        .main-footer {
            background-color: var(--dark-color);
            color: white;
            padding: 60px 0 25px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-logo h3 {
            color: white;
            margin-bottom: 10px;
            font-size: 1.6rem;
        }

        .footer-logo .tagline {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .footer-section p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .footer-section h4 {
            color: white;
            font-size: 1.3rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-section h4::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-color), transparent);
            bottom: 0;
            right: 0;
        }

        .footer-links li { margin-bottom: 12px; }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            font-size: 0.95rem;
        }

        .footer-links a:hover {
            color: white;
            padding-right: 8px;
        }

        .footer-links a i { font-size: 0.8rem; }

        /* تنسيق خاص للإيميل */
        .contact-email {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 12px 20px;
            border-radius: var(--border-radius);
            display: inline-block;
            margin: 12px 0;
            font-family: 'Courier New', monospace;
            direction: ltr;
            text-align: left;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            letter-spacing: 1px;
        }

        .social-links {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: var(--transition);
            font-size: 1rem;
        }

        .social-links a:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
        }

        .footer-bottom {
            padding-top: 25px;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-style: italic;
        }

        /* === التنسيقات الجديدة للبيانات === */
        
        /* تنسيق حديث اليوم */
        .daily-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 40px 30px;
            box-shadow: var(--box-shadow);
            text-align: center;
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            border-top: 5px solid var(--accent-color);
        }
        .daily-text {
            font-size: 1.6rem;
            line-height: 2;
            color: var(--dark-color);
            margin-bottom: 25px;
            font-family: 'El Messiri', 'Tajawal', serif;
        }
        .daily-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 0.9rem;
            color: var(--gray-color);
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .tag {
            background: var(--light-gray);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
        }

        /* تنسيق الأحاديث المشروحة */
        .explained-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        .explained-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            border: 1px solid var(--light-gray);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }
        .explained-card:hover { transform: translateY(-5px); border-color: var(--primary-color); }
        .card-text {
            font-size: 1.1rem;
            color: var(--dark-color);
            margin-bottom: 20px;
            line-height: 1.7;
            flex-grow: 1;
            font-family: 'El Messiri', sans-serif;
        }
        .btn-read-more {
            background: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.95rem;
            border: none;
            cursor: pointer;
            width: 100%;
            transition: var(--transition);
        }
        .btn-read-more:hover { background: var(--secondary-color); }

        .load-more-container { text-align: center; margin-top: 40px; }
        .btn-load-more {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        .btn-load-more:hover { background: var(--primary-color); color: white; }

        /* Modal (نافذة الشرح) */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }
        .modal-overlay.active { display: flex; }
        
        .modal-content {
            background: white;
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 15px;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            animation: slideUp 0.3s ease;
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            padding: 30px;
            background: linear-gradient(135deg, rgba(44, 120, 108, 0.05) 0%, rgba(0, 68, 69, 0.05) 100%);
            border-bottom: 1px solid rgba(44, 120, 108, 0.1);
            position: relative;
        }
        .close-modal {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #fff;
            border: none;
            width: 40px; height: 40px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            color: var(--dark-color);
            z-index: 10;
        }
        .modal-body { padding: 30px; }
        
        .modal-hadith-text {
            font-size: 1.4rem;
            line-height: 2;
            text-align: center;
            color: var(--dark-color);
            margin-bottom: 30px;
            font-family: 'El Messiri', serif;
        }
        
        .info-block {
            background: var(--light-color);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-right: 4px solid var(--primary-color);
        }
        .info-label {
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: block;
            font-size: 1.1rem;
        }
        .explanation-text {
            line-height: 1.8;
            color: var(--dark-color);
            white-space: pre-line;
        }

        /* زر العودة للأعلى */
        .back-to-top-btn {
            position: fixed;
            bottom: 25px;
            left: 25px;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 999;
            box-shadow: 0 5px 20px rgba(44, 120, 108, 0.3);
        }
        .back-to-top-btn.show { opacity: 1; visibility: visible; }
        .back-to-top-btn:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(44, 120, 108, 0.4); }

        /* التجاوب */
        @media (max-width: 768px) {
            .hero-title { font-size: 1.8rem; }
            .hero-actions { flex-direction: column; width: 100%; max-width: 280px; margin: 40px auto 0; }
            .mini-nav-btn { width: 100%; justify-content: center; }
            .daily-hadith-text { font-size: 1.3rem; }
        }
    </style>
</head>
<body>
    <!-- الهيدر -->
    <header class="main-header" id="mainHeader">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="#" onclick="showHome()" style="color: inherit; text-decoration: none;">
                        <h1>DEENWAY – <span class="logo-highlight">Hadiths</span></h1>
                        <p class="tagline">الأحاديث النبوية مصنفة حسب الكتب المعتمدة</p>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="header-spacer"></div>

    <!-- البانر الرئيسي -->
    <section class="hero" id="heroSection">
        <div class="container">
            <div class="hero-content">
                <h2 class="hero-title">مشروع متخصص في عرض الأحاديث النبوية مصنفة حسب كتب السنة المعتمدة</h2>
                
                <!-- الأزرار الأربعة الصغيرة هنا -->
                <div class="hero-actions">
                    <div class="mini-nav-btn" onclick="navigateTo('search')">
                        <i class="fas fa-search"></i> بحث متقدم
                    </div>
                    <div class="mini-nav-btn" onclick="navigateTo('books')">
                        <i class="fas fa-book"></i> كتب الأحاديث
                    </div>
                    <div class="mini-nav-btn" onclick="loadDailyHadith(); navigateTo('daily')">
                        <i class="fas fa-star"></i> حديث اليوم
                    </div>
                    <div class="mini-nav-btn" onclick="loadExplainedHadiths(); navigateTo('explained')">
                        <i class="fas fa-lightbulb"></i> أحاديث مشروحة
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- قسم: البحث المتقدم (Placeholder) -->
    <section id="section-search" class="section featured-hadith content-section">
        <div class="container">
            <div style="text-align: right; margin-bottom: 20px;">
                <a href="#" onclick="showHome()" style="color: var(--gray-color); font-size: 0.9rem;"><i class="fas fa-arrow-right"></i> العودة للرئيسية</a>
            </div>
            <h2 style="text-align: center; margin-bottom: 30px;">بحث متقدم</h2>
            <div class="featured-hadith-card">
                <p style="color: var(--gray-color);">سيتم تفعيل البحث المتقدم هنا مستقبلاً.</p>
            </div>
        </div>
    </section>

    <!-- قسم: كتب الأحاديث (Placeholder) -->
    <section id="section-books" class="section categories-section content-section">
        <div class="container">
            <div style="text-align: right; margin-bottom: 20px;">
                <a href="#" onclick="showHome()" style="color: var(--gray-color); font-size: 0.9rem;"><i class="fas fa-arrow-right"></i> العودة للرئيسية</a>
            </div>
            <div class="section-header">
                <h2 class="section-title">كتب الأحاديث النبوية</h2>
                <p class="section-subtitle">اختر الكتاب الذي تريد استعراض أحاديثه</p>
            </div>
            <!-- مثال بسيط -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
                <div class="explained-card">
                    <h3>صحيح البخاري</h3>
                    <p>أصح كتاب بعد كتاب الله</p>
                </div>
                <div class="explained-card">
                    <h3>صحيح مسلم</h3>
                    <p>ثاني أصح الكتب</p>
                </div>
            </div>
        </div>
    </section>

    <!-- قسم: حديث اليوم (Dynamic) -->
    <section id="section-daily" class="section featured-hadith content-section">
        <div class="container">
            <div style="text-align: right; margin-bottom: 20px;">
                <a href="#" onclick="showHome()" style="color: var(--gray-color); font-size: 0.9rem;"><i class="fas fa-arrow-right"></i> العودة للرئيسية</a>
            </div>
            <div class="section-header">
                <h2 class="section-title">حديث اليوم</h2>
                <p class="section-subtitle">حديث عشوائي يتجدد لكل زيارة</p>
            </div>
            
            <div id="daily-content">
                <!-- سيتم ملؤه بواسطة JavaScript -->
                <div class="featured-hadith-card">
                    <div class="loading-spinner" style="border: 3px solid #f3f3f3; border-top: 3px solid var(--primary-color); border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 0 auto;"></div>
                    <p style="text-align: center; margin-top: 10px;">جاري تحميل الحديث...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- قسم: أحاديث مشروحة (Dynamic) -->
    <section id="section-explained" class="section content-section">
        <div class="container">
            <div style="text-align: right; margin-bottom: 20px;">
                <a href="#" onclick="showHome()" style="color: var(--gray-color); font-size: 0.9rem;"><i class="fas fa-arrow-right"></i> العودة للرئيسية</a>
            </div>
            <div class="section-header">
                <h2 class="section-title">أحاديث مشروحة</h2>
                <p class="section-subtitle">مجموعة مختارة من الأحاديث مع شرحها وبيان فوائدها</p>
            </div>
            
            <div id="explained-list" class="explained-grid">
                <!-- سيتم تعبئة البطاقات هنا -->
            </div>

            <div class="load-more-container">
                <button id="btn-load-more" class="btn-load-more" onclick="loadMoreExplained()" style="display: none;">
                    <i class="fas fa-plus"></i> عرض المزيد من الأحاديث
                </button>
            </div>
        </div>
    </section>

    <!-- نافذة الشرح المنبثقة (Modal) -->
    <div class="modal-overlay" id="hadithModal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="close-modal" onclick="closeModal()"><i class="fas fa-times"></i></button>
            
            <div class="modal-header">
                <h3 style="color: var(--primary-color); text-align: center;">تفاصيل الحديث وشرحه</h3>
            </div>
            
            <div class="modal-body">
                <p class="modal-hadith-text" id="modal-text"></p>
                
                <div class="info-block">
                    <span class="info-label"><i class="fas fa-info-circle"></i> الدرجة والتخريج:</span>
                    <p id="modal-grade" style="font-weight: bold; color: var(--dark-color);"></p>
                </div>

                <div class="info-block">
                    <span class="info-label"><i class="fas fa-book-open"></i> الشرح:</span>
                    <p class="explanation-text" id="modal-explanation"></p>
                </div>
                
                <div class="info-block">
                    <span class="info-label"><i class="fas fa-lightbulb"></i> الفوائد المستخلصة:</span>
                    <p class="explanation-text" id="modal-benefits"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- الفوتر (مع الإيميل كما كان في الأصل) -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <h3>DEENWAY – <span class="logo-highlight">Hadiths</span></h3>
                        <p class="tagline">الأحاديث النبوية مصنفة حسب الكتب المعتمدة</p>
                    </div>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>روابط سريعة</h4>
                    <ul class="footer-links">
                        <li><a href="#" onclick="navigateTo('books')">كتب الأحاديث</a></li>
                        <li><a href="#" onclick="navigateTo('search')">بحث متقدم</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>اتصل بنا</h4>
                    <p>للمساهمة في إضافة أحاديث أو للاستفسارات:</p>
                    <p class="contact-email">contact@ondeenway.org</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>إن أصبت فمن الله، وإن أخطأت فمن نفسي والشيطان</p>
            </div>
        </div>
    </footer>

    <!-- زر العودة للأعلى -->
    <div class="back-to-top-btn" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // متغيرات عامة
        let hadithData = [];
        let currentPage = 1;
        const itemsPerPage = 20;

        // 1. تحميل البيانات عند بدء الموقع
        document.addEventListener('DOMContentLoaded', async function() {
            setupBackToTop();
            await fetchHadithData();
        });

        // دالة جلب البيانات من ملف JSON
        async function fetchHadithData() {
            try {
                // محاولة جلب الملف من الخادم
                const response = await fetch('data.json');
                
                if (!response.ok) {
                    throw new Error('لم يتم العثور على ملف البيانات');
                }
                
                hadithData = await response.json();
                console.log('تم تحميل البيانات بنجاح');
                
            } catch (error) {
                console.error('خطأ في تحميل البيانات، سيتم استخدام البيانات التجريبية:', error);
                // استخدام بيانات تجريبية في حالة عدم وجود الملف
                hadithData = [
                    {
                        hadith_text_ar: "إنما الأعمال بالنيات، وإنما لكل امرئ ما نوى، فمن كانت هجرته إلى الله ورسوله فهجرته إلى الله ورسوله، ومن كانت هجرته لدنيا يصيبها أو امرأة ينكحها فهجرته إلى ما هاجر إليه.",
                        explanation_ar: "هذا الحديث عظيم القدر، وهو أحد الأحاديث التي يدور الدين عليها، وقد جمع الشافعي رحمه الله أن هذا الحديث ربع الدين. ومعناه: أن الأعمال لا تكون معتبرة شرعاً إلا بنية، والنية هي القصد.",
                        benefits_ar: "1. عظم شأن النية في الإسلام.\n2. الأعمال بحسب المقاصد.\n3. وجوب إخلاص العمل لله تعالى.",
                        grade_ar: "صحيح",
                        takhrij_ar: "متفق عليه"
                    },
                    {
                        hadith_text_ar: "المسلم من سلم المسلمون من لسانه ويده، والمهاجر من هجر ما نهى الله عنه.",
                        explanation_ar: "المسلم الحقيقي هو الذي يسلم الناس من أذاه، سواء باللسان أو باليد. والمهاجر الحقيقي هو الذي يترك ما حرم الله عليه.",
                        benefits_ar: "1. حرمة دم المسلم وماله.\n2. وجوب حفظ اللسان من السب والشتيمة.\n3. الهجرة الحقيقية هي هجرة الذنوب.",
                        grade_ar: "صحيح",
                        takhrij_ar: "متفق عليه"
                    },
                    {
                        hadith_text_ar: "من حسن إسلام المرء تركه ما لا يعنيه.",
                        explanation_ar: "دليل على كمال إسلام العبد إعراضه عما لا يعنيه، أي عما لا يهمه في أمر دينه ودنياه، فمن اشتغل بما لا يعنيه فاته ما يعنيه.",
                        benefits_ar: "1. حفظ الوقت والجهد.\n2. ترك الفضول وال curiosities.\n3. التركيز على المهمات.",
                        grade_ar: "حسن",
                        takhrij_ar: "رواه الترمذي"
                    }
                ];
            }
        }

        // 2. وظيفة حديث اليوم
        function loadDailyHadith() {
            const container = document.getElementById('daily-content');
            
            if (hadithData.length === 0) {
                container.innerHTML = '<div style="text-align:center;">لا توجد بيانات لعرضها</div>';
                return;
            }

            const randomIndex = Math.floor(Math.random() * hadithData.length);
            const hadith = hadithData[randomIndex];

            container.innerHTML = `
                <div class="daily-card">
                    <div class="featured-icon"><i class="fas fa-quote-right"></i></div>
                    <p class="daily-text">${hadith.hadith_text_ar || 'نص الحديث غير متوفر'}</p>
                    
                    <div class="daily-meta">
                        <span class="tag"><i class="fas fa-check-circle"></i> ${hadith.grade_ar || 'غير محدد'}</span>
                        <span class="tag"><i class="fas fa-scroll"></i> ${hadith.takhrij_ar || 'بدون تخريج'}</span>
                    </div>
                </div>
            `;
        }

        // 3. وظيفة عرض الأحاديث المشروحة
        function loadExplainedHadiths(reset = false) {
            const container = document.getElementById('explained-list');
            const btnLoadMore = document.getElementById('btn-load-more');
            
            if (hadithData.length === 0) {
                if(container) container.innerHTML = '<div style="grid-column: 1/-1; text-align:center;">لا توجد بيانات</div>';
                return;
            }

            if (reset) {
                container.innerHTML = '';
                currentPage = 1;
            }

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageData = hadithData.slice(startIndex, endIndex);

            pageData.forEach(hadith => {
                const card = document.createElement('div');
                card.className = 'explained-card';
                card.innerHTML = `
                    <div class="card-text">${hadith.hadith_text_ar}</div>
                    <div style="margin-top: auto;">
                        <button class="btn-read-more" onclick="openModal(${hadithData.indexOf(hadith)})">
                            <i class="fas fa-book-reader"></i> اقرأ الشرح
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });

            if (endIndex >= hadithData.length) {
                if(btnLoadMore) btnLoadMore.style.display = 'none';
            } else {
                if(btnLoadMore) btnLoadMore.style.display = 'inline-flex';
                currentPage++;
            }
        }

        function loadMoreExplained() {
            loadExplainedHadiths();
        }

        // 4. وظيفة نافذة الشرح المنبثقة
        function openModal(index) {
            const hadith = hadithData[index];
            if (!hadith) return;

            document.getElementById('modal-text').textContent = hadith.hadith_text_ar;
            document.getElementById('modal-explanation').textContent = hadith.explanation_ar || 'لا يوجد شرح متوفر';
            document.getElementById('modal-benefits').textContent = hadith.benefits_ar || 'لا يوجد فوائد مستخلصة';
            
            const gradeText = `${hadith.grade_ar || '-'} ${hadith.takhrij_ar ? '| ' + hadith.takhrij_ar : ''}`;
            document.getElementById('modal-grade').textContent = gradeText;

            document.getElementById('hadithModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(event) {
            if (event && event.target !== document.getElementById('hadithModal')) return;
            document.getElementById('hadithModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // وظائف التنقل
        function navigateTo(sectionId) {
            document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
            const target = document.getElementById('section-' + sectionId);
            if (target) {
                target.classList.add('active');
                const headerOffset = 80;
                const elementPosition = target.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                window.scrollTo({ top: offsetPosition, behavior: "smooth" });
            }
        }

        function showHome() {
            document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // زر العودة للأعلى
        function setupBackToTop() {
            const btn = document.getElementById('backToTop');
            const header = document.getElementById('mainHeader');
            
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    btn.classList.add('show');
                    header.classList.add('scrolled');
                } else {
                    btn.classList.remove('show');
                    header.classList.remove('scrolled');
                }
            });
            
            btn.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </script>
</body>
</html>
